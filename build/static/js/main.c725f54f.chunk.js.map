{"version":3,"sources":["app_parts.js","index.js"],"names":["socket","io","connect","ss","require","moment","DateTime","File","glyphClass","className","_this","props","isdir","remove","path","emit","browser","reloadFilesFromServer","rename","updatedName","name","onRemove","e","data","type","window","confirm","onRename","prompt","renderList","dateString","Date","time","toLocaleString","react_default","a","createElement","id","ref","es6","Button","onClick","style","fontSize","paddingRight","MenuItem","sizeString","size","renderGrid","render","gridView","React","Component","Math","pow","random","timeSort","left","right","sizeSort","pathSort","localeCompare","sizes","count","unit","sizeBytes","iUnit","length","Browser","state","paths","files","sort","current_path","displayUpload","loadFilesFromServer","self","Object","assertThisInitialized","_this2","children","concat","setState","updateNavbarPath","currentPath","onBack","alert","paths2","slice","onUpload","onParent","onSuccess","parentPath","this","updatePath","bind","getParent","alternateView","updatedView","uploadFile","componentDidMount","console","log","initpath","push","updateSort","reverse","getContent","url","open","mkdir","newFolderName","f","mapfunc","idx","app_parts_File","key","map","toolbar","data-toggle","data-target","onChange","display","files2","row","i","files2_t","cols","j","sortGlyph","DlgFolder2","showModal","hiddenPacks","error","close","_this3","Modal","show","onHide","dialogClassName","Header","closeButton","Title","Body","app_parts_Browser","PackItemEditNew","packitem","bg","date_open","_this4","open2","index","old","parent","items","handleSave","res","contact","handlePackItemChange","quehuoChange","quehuo","bg2","update","defineProperty","target","$set","contact2","handleChange_item","Item","value","handleChange","item","readOnly","disabled","defaultValue","backgroundColor","addr","yiqixinghao","guige","baoxiang","bh","danwei","ct","checked","PackItems","showRemoveIcon","newPackName","auto_value","auto_items","auto_loading","release","pack_id","_this5","auto_select","event","addrow","suggestion","auto_change","search","limit","new_packitem","img","p","newFoods","new_packitem2","contacts2","item_id","newpackChange","onEditClick","onDeleteClick","itemIndex","filteredFoods","filter","handleEdit","refs","dlg","_ref","newValue","button1","_this6","itemRows","hidden","pack","marginLeft","Table","responsive","bordered","condensed","dist_default","focusInputOnSuggestionClick","inputProps","onSuggestionSelected","onSuggestionsFetchRequested","onSuggestionsClearRequested","getSuggestionValue","suggestions","renderSuggestion","app_parts_PackItemEditNew","UsePackEditNew","usepack","_this7","usepacks","Pack","app_parts_PackItems","DlgFolder","_this8","contact_id","result","info","success","message","DlgCheck","packs","hideTable","_this9","upload","file","fileUpload","data1","FormData","append","showdata","notequal","n","tr","one","l","r","contactRows","color","left0","left1","left2","right0","right1","right2","title","yiqibh","encType","margin","accept","minHeight","colSpan","DlgWait","_this10","DlgUrl","_this11","handleContactChange","UsePacks2","load_data","_this12","bibei","new_pack","edit1","getUsers","input","fetch","credentials","then","response","json","options","Promise","resolve","_ref3","onValueClick","nextProps","_this13","usepackRows","hetongbh","app_parts_UsePackEditNew","currentIndex","DlgImport","_this14","stream","createStream","app","$push","createBlobReadStream","pipe","DlgStat","lbls","values","_this15","loaddata","onSelectBaoxiang","logChange","val","labels","datasets","label","borderWidth","DropdownButton","onSelect","es","scales","yAxes","ticks","beginAtZero","width","height","DlgCopyPack","newname","newnameChange","_this16","copy_pack","oldid","src_id","_ref5","isHighlighted","maxLength","DlgPacks","mystate","start","logined","contacts","user","total","start_input","_this17","undefined","handlePrev","handleNext","jump","parseInt","handlePageChange","image","DlgItems","_this18","alt","src","ContactEdit","_this19","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","yujifahuo_date","tiaoshi_date","format","channels","shenhe","yonghu","handleCopy","tiaoshi_date_change","t","yujifahuo_date_change","channels_change","_ref6","change1","channels_change_fetch","channels_select","yiqixinghao_change","_ref7","change2","yiqixinghao_select","matchStateToTerm","toLowerCase","indexOf","timeFormat","method","app_parts_UsePacks2","App","_this20","displayFilterDanwei","filter_danwei","displayFilterHtbh","filter_htbh","connect_error","on","$unshift","handleUserChange","handleLogout","handleSearchChange","onDetailClick","contactid","onLoginSubmit","contactedit","current","opendlgfolder","dlgfolder","opendlgfolder2","dlgfolder2","opendlgcheck","dlgcheck","openDlgPacks","dlgpacks","openDlgCopyPack","dlgcopypack","opendlgurl","dlgurl","opendlgwait","dlgwait","openDlgStat","dlgstat","openDlgImport","dlgimport","show_displayFilterHtbh","handle_filterhtbh_Change","handle_filterhtbh_input","show_displayFilterDanwei","handle_filterdanwei_Change","handle_filterdanwei_input","createRef","prev","next","_this21","hasprev","hasnext","textAlign","app_parts_DlgItems","app_parts_DlgPacks","app_parts_DlgCopyPack","app_parts_DlgStat","app_parts_DlgImport","app_parts_DlgCheck","app_parts_DlgFolder2","app_parts_DlgFolder","app_parts_DlgWait","app_parts_DlgUrl","app_parts_ContactEdit","Navbar","Brand","Nav","NavItem","eventKey","href","aria-hidden","ReactDOM","app_parts_App","document","getElementById"],"mappings":"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","file":"static/js/main.c725f54f.chunk.js","sourcesContent":["import React from 'react';\r\nimport Autosuggest from 'react-autosuggest';\r\nimport io from 'socket.io-client';\r\n// import isEqual  from 'lodash.isequal';\r\n// import find from 'lodash.find';\r\n// import PropTypes from 'prop-types'\r\nimport update from 'immutability-helper';\r\nimport {Bar} from \"react-chartjs-2\";\r\nimport { ContextMenu, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport {\r\n  Button,\r\n  Table,\r\n  Modal,\r\n  Navbar,\r\n  Nav,\r\n  NavItem,\r\n  DropdownButton,\r\n  MenuItem,\r\n} from \"react-bootstrap\";\r\nconst HOST = 'http://localhost:8000';\r\nvar socket = io.connect(HOST);\r\nvar ss = require('socket.io-stream');\r\nvar moment = require('moment');\r\nrequire('moment/locale/zh-cn');\r\nvar DateTime=require('react-datetime');\r\n// var host = '';\r\n//Browser///////////////////////////////////////////////////////\r\n// function buildUploadUrl(path, name) {\r\n//   return '/fs/upload?path=' + path + '&name=' + name;\r\n// }\r\nfunction buildMkdirUrl(path, name) {\r\n  return '/fs/mkdir?path=' + path + '&name=' + name;\r\n}\r\nfunction getParent(path, onSuccess) {\r\n  socket.emit('/fs/parent', { path: path }, onSuccess);\r\n}\r\nclass File extends React.Component {\r\n  glyphClass = () => {\r\n    var className = 'glyphicon ';\r\n    className += this.props.isdir ? 'glyphicon-folder-open' : 'glyphicon-file';\r\n    return className;\r\n  };\r\n\r\n  remove = (path) => {\r\n    socket.emit('/fs/remove', { path: path }, () => {\r\n      this.props.browser.reloadFilesFromServer();\r\n    });\r\n  };\r\n\r\n  rename = updatedName => {\r\n    socket.emit(\r\n      '/fs/rename2',\r\n      { path: this.props.path, name: updatedName },\r\n      () => {\r\n        this.props.browser.reloadFilesFromServer();\r\n      }\r\n    );\r\n  };\r\n\r\n  onRemove = (e, data) => {\r\n    //console.log(\"onRemove\");\r\n    var type = this.props.isdir ? 'folder' : 'file';\r\n    var remove = window.confirm(\r\n      'Remove ' + type + \" '\" + this.props.path + \"' ?\"\r\n    );\r\n    if (remove) this.remove();\r\n  };\r\n\r\n  onRename = (e, data) => {\r\n    //console.log(\"onRename\");\r\n    var type = this.props.isdir ? 'folder' : 'file';\r\n    var updatedName = prompt(\r\n      'Enter new name for ' + type + ' ' + this.props.name\r\n    );\r\n    if (updatedName != null) this.rename(updatedName);\r\n  };\r\n\r\n  renderList = () => {\r\n    var dateString = new Date(this.props.time * 1000).toLocaleString(); //toGMTString()\r\n    var glyphClass = this.glyphClass();\r\n    return (\r\n      <tr id={this.props.id} ref={this.props.path}>\r\n        <td>\r\n          <ContextMenuTrigger id={'' + this.props.id}>\r\n            <Button onClick={this.props.onClick}>\r\n              <span\r\n                style={{ fontSize: '1.5em', paddingRight: '10px' }}\r\n                className={glyphClass}\r\n              />\r\n              {this.props.name}\r\n            </Button>\r\n          </ContextMenuTrigger>\r\n          <ContextMenu id={'' + this.props.id}>\r\n            <MenuItem data={{ a: 1 }} onClick={this.onRemove}>\r\n              \r\n            </MenuItem>\r\n            <MenuItem data={{ a: 2 }} onClick={this.onRename}>\r\n              \r\n            </MenuItem>\r\n          </ContextMenu>\r\n        </td>\r\n        <td>{File.sizeString(this.props.size)}</td>\r\n        <td>{dateString}</td>\r\n      </tr>\r\n    );\r\n  };\r\n  renderGrid = () => {\r\n    var glyphClass = this.glyphClass();\r\n    return (\r\n      <div ref={this.props.path}>\r\n        <ContextMenuTrigger id={'' + this.props.id}>\r\n          <Button id={this.props.id} onClick={this.props.onClick}>\r\n            <span style={{ fontSize: '3.5em' }} className={glyphClass} />\r\n          </Button>\r\n        </ContextMenuTrigger>\r\n        <ContextMenu id={'' + this.props.id}>\r\n          <MenuItem data={{ a: 1 }} onClick={this.onRemove}>\r\n            remove\r\n          </MenuItem>\r\n          <MenuItem data={{ a: 2 }} onClick={this.onRename}>\r\n            rename\r\n          </MenuItem>\r\n        </ContextMenu>\r\n\r\n        <h4>{this.props.name}</h4>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render = () => {\r\n    return this.props.gridView ? this.renderGrid() : this.renderList();\r\n  };\r\n  static id = () => {\r\n    return (Math.pow(2, 31) * Math.random()) | 0;\r\n  };\r\n\r\n  static timeSort = (left, right) => {\r\n    return left.time - right.time;\r\n  };\r\n\r\n  static sizeSort = (left, right) => {\r\n    return left.size - right.size;\r\n  };\r\n\r\n  static pathSort = (left, right) => {\r\n    return left.path.localeCompare(right.path);\r\n  };\r\n\r\n  static sizes = [\r\n    { count: 1, unit: 'bytes' },\r\n    { count: 1024, unit: 'kB' },\r\n    { count: 1048576, unit: 'MB' },\r\n    { count: 1073741824, unit: 'GB' },\r\n  ];\r\n\r\n  static sizeString = sizeBytes => {\r\n    var iUnit = 0;\r\n    var count = 0;\r\n    for (iUnit = 0; iUnit < File.sizes.length; iUnit++) {\r\n      count = sizeBytes / File.sizes[iUnit].count;\r\n      if (count < 1024) break;\r\n    }\r\n    return '' + (count | 0) + ' ' + File.sizes[iUnit].unit;\r\n  };\r\n}\r\nclass Browser extends React.Component {\r\n  state = {\r\n    paths: ['.'],\r\n    files: [],\r\n    sort: File.pathSort,\r\n    gridView: false,\r\n    current_path: '',\r\n    displayUpload: 'none',\r\n  };\r\n\r\n  loadFilesFromServer = path => {\r\n    var self = this;\r\n    socket.emit('/fs/children', { path: path }, data => {\r\n      var files = data.children.sort(self.state.sort);\r\n      var paths = self.state.paths;\r\n      if (paths[paths.length - 1] !== path) paths = paths.concat([path]);\r\n      self.setState({\r\n        files: files,\r\n        paths: paths,\r\n        sort: self.state.sort,\r\n        gridView: self.state.gridView,\r\n      });\r\n      self.updateNavbarPath(self.currentPath());\r\n    });\r\n  };\r\n  updateNavbarPath = path => {\r\n    // var elem  = document.getElementById(\"pathSpan\");\r\n    // elem.innerHTML = '<span class=\"glyphicon glyphicon-chevron-right\"/>' +path;\r\n    this.setState({ current_path: path });\r\n  };\r\n  reloadFilesFromServer = () => {\r\n    this.loadFilesFromServer(this.currentPath());\r\n  };\r\n\r\n  currentPath = () => {\r\n    return this.state.paths[this.state.paths.length - 1];\r\n  };\r\n\r\n  onBack = () => {\r\n    if (this.state.paths.length < 2) {\r\n      alert('Cannot go back from ' + this.currentPath());\r\n      return;\r\n    }\r\n    var paths2 = this.state.paths.slice(0, -1);\r\n    this.setState({ paths: paths2 });\r\n    this.loadFilesFromServer(paths2[paths2.length - 1]);\r\n  };\r\n\r\n  onUpload = () => {\r\n    this.setState({ displayUpload: '' });\r\n  };\r\n\r\n  onParent = () => {\r\n    var onSuccess = function(data) {\r\n      var parentPath = data.path;\r\n      this.updatePath(parentPath);\r\n    }.bind(this);\r\n    getParent(this.currentPath(), onSuccess);\r\n  };\r\n\r\n  alternateView = () => {\r\n    var updatedView = !this.state.gridView;\r\n\r\n    this.setState({\r\n      gridView: updatedView,\r\n    });\r\n  };\r\n\r\n  uploadFile = () => {\r\n    // var path = this.currentPath();\r\n    // var readFile = evt.target.files[0];\r\n    // var name = readFile.name;\r\n    // //console.log(readFile);\r\n    // socket.emit(\"/fs/upload\",{},()=>{});\r\n    // var formData = new FormData();\r\n    // formData.append(\"file\", readFile, name);\r\n    // var xhr = new XMLHttpRequest();\r\n    // xhr.open('POST', buildUploadUrl(path, name) , true);\r\n    // xhr.onreadystatechange=function()\r\n    // {\r\n    //         if (xhr.readyState !== 4)\r\n    //                 return;\r\n    //         if (xhr.status === 200){\r\n    //                 alert(\"Successfully uploaded file \"+ name +\" to \"+ path);\r\n    //                 this.reloadFilesFromServer();\r\n    //         }\r\n    //         else\r\n    //                ;// //console.log(request.status);\r\n    // }.bind(this);\r\n    // xhr.send(formData);\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    console.log('browser mount======');\r\n    //console.log(this.props.initpath);\r\n    if (this.props.initpath) this.state.paths.push(this.props.initpath);\r\n    var path = this.currentPath();\r\n    console.log(path);\r\n    this.loadFilesFromServer(path);\r\n  };\r\n\r\n  updateSort = sort => {\r\n    var files = this.state.files;\r\n    var lastSort = this.state.sort;\r\n    if (lastSort === sort) files = files.reverse();\r\n    else files = files.sort(sort);\r\n\r\n    this.setState({\r\n      files: files,\r\n      sort: sort,\r\n      paths: this.state.paths,\r\n      gridView: this.state.gridView,\r\n    });\r\n  };\r\n\r\n  timeSort = () => {\r\n    this.updateSort(File.timeSort);\r\n  };\r\n  pathSort = () => {\r\n    this.updateSort(File.pathSort);\r\n  };\r\n  sizeSort = () => {\r\n    this.updateSort(File.sizeSort);\r\n  };\r\n  updatePath = path => {\r\n    this.loadFilesFromServer(path);\r\n  };\r\n  getContent = path => {\r\n    //console.log(\"getContent\");\r\n    var url = '/media/' + path;\r\n    //console.log(url);\r\n    window.open(url, url, 'height=800,width=800,resizable=yes,scrollbars=yes');\r\n  };\r\n\r\n  mkdir = () => {\r\n    var newFolderName = prompt('Enter new folder name');\r\n    if (newFolderName == null) return;\r\n    socket.emit(\r\n      buildMkdirUrl(this.currentPath(), newFolderName),\r\n      this.reloadFilesFromServer\r\n    );\r\n  };\r\n  onClick = f => {\r\n    //console.log(\"onClick\");\r\n    //console.log(f);\r\n    if (f.isdir) {\r\n      this.updatePath(f.path);\r\n    } else {\r\n      this.getContent(f.path);\r\n    }\r\n  };\r\n  mapfunc = (f, idx) => {\r\n    var id = File.id(f.name);\r\n    return (\r\n      <File\r\n        key={idx}\r\n        id={id}\r\n        gridView={this.state.gridView}\r\n        onClick={() => this.onClick(f)}\r\n        path={f.path}\r\n        name={f.name}\r\n        isdir={f.isdir}\r\n        size={f.size}\r\n        time={f.time}\r\n        browser={this}\r\n      />\r\n    );\r\n  };\r\n  render = () => {\r\n    const files = this.state.files.map(this.mapfunc);\r\n\r\n    var gridGlyph = 'glyphicon glyphicon-th-large';\r\n    var listGlyph = 'glyphicon glyphicon-list';\r\n    var className = this.state.gridView ? listGlyph : gridGlyph;\r\n    var toolbar = (\r\n      <div>\r\n        <nav className=\"navbar navbar-inverse \">\r\n          <div className=\"navbar-header\">\r\n            <button\r\n              type=\"button\"\r\n              className=\"navbar-toggle\"\r\n              data-toggle=\"collapse\"\r\n              data-target=\"#example-navbar-collapse\"\r\n            >\r\n              <span className=\"sr-only\">Toggle navigation</span>\r\n              <span className=\"icon-bar\" />\r\n              <span className=\"icon-bar\" />\r\n              <span className=\"icon-bar\" />\r\n            </button>\r\n          </div>\r\n          <div\r\n            className=\"collapse navbar-collapse\"\r\n            id=\"example-navbar-collapse\"\r\n          >\r\n            <ul className=\"nav navbar-nav\">\r\n              <li id=\"backButton\">\r\n                <Button onClick={this.onBack}>\r\n                  <span className=\"glyphicon glyphicon-arrow-left\" />\r\n                </Button>\r\n              </li>\r\n              <li id=\"parentButton\">\r\n                <Button onClick={this.onParent}>\r\n                  <span className=\"glyphicon glyphicon-arrow-up\" />\r\n                </Button>\r\n              </li>\r\n              <li id=\"uploadButton\">\r\n                <Button onClick={this.onUpload}>\r\n                  <span className=\"glyphicon glyphicon-upload\" />\r\n                </Button>\r\n              </li>\r\n              <li id=\"mkdirButton\">\r\n                <Button onClick={this.mkdir}>\r\n                  <span className=\"glyphicon glyphicon-folder-open\" />\r\n                </Button>\r\n              </li>\r\n              <li id=\"alternateViewButton\">\r\n                <Button onClick={this.alternateView}>\r\n                  <span ref=\"altViewSpan\" className={className} />\r\n                </Button>\r\n              </li>\r\n              <li>\r\n                <Button id=\"pathSpan\">\r\n                  <span className=\"glyphicon glyphicon-chevron-right\" />\r\n                  {this.state.current_path}\r\n                </Button>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </nav>\r\n        <input\r\n          type=\"file\"\r\n          id=\"uploadInput\"\r\n          onChange={this.uploadFile()}\r\n          style={{ display: this.state.displayUpload }}\r\n        />\r\n      </div>\r\n    );\r\n    if (this.state.gridView) {\r\n      var files2 = [];\r\n      var row = [];\r\n      var ncols = 3;\r\n      for (var i in files) {\r\n        if (i % ncols === 0) {\r\n          if (row.length > 0) {\r\n            files2.push(row);\r\n            row = [];\r\n            row.push(files[i]);\r\n          } else {\r\n            row.push(files[i]);\r\n          }\r\n        } else {\r\n          row.push(files[i]);\r\n        }\r\n      }\r\n      if (row.length > 0) {\r\n        files2.push(row);\r\n      }\r\n      var files2_t = [];\r\n      for (i in files2) {\r\n        var cols = [];\r\n        for (var j in files2[i]) {\r\n          cols.push(<td key={j}>{files2[i][j]}</td>);\r\n        }\r\n        row = <tr key={i}>{cols}</tr>;\r\n        files2_t.push(row);\r\n      }\r\n      return (\r\n        <div>\r\n          {toolbar}\r\n          <table>\r\n            <tbody>{files2_t}</tbody>\r\n          </table>\r\n        </div>\r\n      );\r\n    } else {\r\n      var sortGlyph = 'glyphicon glyphicon-sort';\r\n      return (\r\n        <div>\r\n          {toolbar}\r\n          <table className=\"table table-responsive table-striped table-hover\">\r\n            <thead>\r\n              <tr>\r\n                <th>\r\n                  <button onClick={this.pathSort} className=\"btn btn-default\">\r\n                    <span className={sortGlyph} />\r\n                    \r\n                  </button>\r\n                </th>\r\n                <th>\r\n                  <button onClick={this.sizeSort} className=\"btn btn-default\">\r\n                    <span className={sortGlyph} />\r\n                    \r\n                  </button>\r\n                </th>\r\n                <th>\r\n                  <button onClick={this.timeSort} className=\"btn btn-default\">\r\n                    <span className={sortGlyph} />\r\n                    \r\n                  </button>\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>{files}</tbody>\r\n          </table>\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n}\r\n/////////////\r\nclass DlgFolder2 extends React.Component {\r\n  state = {\r\n    initpath: '.',\r\n    showModal: false,\r\n    hiddenPacks: true,\r\n    error: '',\r\n  };\r\n  close = () => {\r\n    this.setState({ showModal: false, initpath: '.' });\r\n  };\r\n\r\n  open = () => {\r\n    this.setState({ showModal: true });\r\n  };\r\n  render = () => {\r\n    return (\r\n      <Modal\r\n        show={this.state.showModal}\r\n        onHide={this.close}\r\n        dialogClassName=\"custom-modal\"\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Browser initpath={this.state.initpath} />\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  };\r\n}\r\n///////////////////////////////////////////////////////////////////////////////////////////////\r\n///////\r\nclass PackItemEditNew extends React.Component {\r\n  state = {\r\n    showModal: false,\r\n    packitem: {},\r\n    hiddenPacks: true,\r\n    bg: {},\r\n    date_open: false,\r\n  };\r\n  // componentWillReceiveProps(nextProps) {\r\n  //   this.setState({ showModal: nextProps.showModal });\r\n  //   if (nextProps.index==null){\r\n  //     this.old={};\r\n  //   }\r\n  //   else{\r\n  //     this.parent=nextProps.parent;\r\n  //     this.old=this.parent.state.items[nextProps.index];\r\n  //   }\r\n  //   this.setState({packitem:this.old});\r\n  // }\r\n  close = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  open2 = idx => {\r\n    this.setState({ showModal: true });\r\n    this.index = idx;\r\n    if (this.index == null) {\r\n      this.old = {};\r\n    } else {\r\n      this.parent = this.props.parent;\r\n      this.old = this.parent.state.items[this.index];\r\n    }\r\n    this.setState({ packitem: this.old });\r\n  };\r\n  handleSave = data => {\r\n    socket.emit('/put/PackItem', this.state.packitem, res => {\r\n      //console.log(\"/put/PackItem\");\r\n      //console.log(res);\r\n      this.setState({ contact: res.data });\r\n      this.parent.handlePackItemChange(this.index, res.data);\r\n      this.old = res.data;\r\n      this.close();\r\n    });\r\n  };\r\n  quehuoChange = e => {\r\n    var quehuo = this.state.packitem.quehuo;\r\n    quehuo = !quehuo;\r\n    if (this.old.quehuo === quehuo) {\r\n      const bg2 = update(this.state.bg, {\r\n        [e.target.name]: { $set: '#ffffff' },\r\n      });\r\n      this.setState({ bg: bg2 });\r\n    } else {\r\n      const bg2 = update(this.state.bg, {\r\n        [e.target.name]: { $set: '#8888ff' },\r\n      });\r\n      this.setState({ bg: bg2 });\r\n    }\r\n    const contact2 = update(this.state.packitem, { quehuo: { $set: quehuo } });\r\n    //console.log(contact2);\r\n    this.setState({ packitem: contact2 });\r\n  };\r\n  handleChange_item = e => {\r\n    //console.log(\"change\");\r\n    //console.log(e);\r\n    //console.log(e.target);\r\n    //console.log(e.target.value);\r\n    //console.log(e.target.name);\r\n    if (this.old.Item[e.target.name] === e.target.value) {\r\n      const bg2 = update(this.state.bg, {\r\n        [e.target.name]: { $set: '#ffffff' },\r\n      });\r\n      //this.state.bg[e_target_name]=\"#ffffff\";\r\n      ////console.log(\"equal\");\r\n      this.setState({ bg: bg2 });\r\n    } else {\r\n      const bg2 = update(this.state.bg, {\r\n        [e.target.name]: { $set: '#8888ff' },\r\n      });\r\n      //this.state.bg[e_target_name]=\"#ffffff\";\r\n      ////console.log(\"equal\");\r\n      this.setState({ bg: bg2 });\r\n    }\r\n    const contact2 = update(this.state.packitem, {\r\n      Item: { [e.target.name]: { $set: e.target.value } },\r\n    });\r\n    //console.log(contact2);\r\n    this.setState({ packitem: contact2 });\r\n  };\r\n  handleChange = e => {\r\n    //console.log(\"change\");\r\n    //console.log(e);\r\n    //console.log(e.target);\r\n    //console.log(e.target.value);\r\n    //console.log(e.target.name);\r\n    if (this.old[e.target.name] === e.target.value) {\r\n      const bg2 = update(this.state.bg, {\r\n        [e.target.name]: { $set: '#ffffff' },\r\n      });\r\n      //this.state.bg[e_target_name]=\"#ffffff\";\r\n      ////console.log(\"equal\");\r\n      this.setState({ bg: bg2 });\r\n    } else {\r\n      const bg2 = update(this.state.bg, {\r\n        [e.target.name]: { $set: '#8888ff' },\r\n      });\r\n      //this.state.bg[e_target_name]=\"#ffffff\";\r\n      ////console.log(\"equal\");\r\n      this.setState({ bg: bg2 });\r\n    }\r\n    const contact2 = update(this.state.packitem, {\r\n      [e.target.name]: { $set: e.target.value },\r\n    });\r\n    //console.log(contact2);\r\n    this.setState({ packitem: contact2 });\r\n  };\r\n  render = () => {\r\n    let item = {};\r\n    if (this.state.packitem.Item) {\r\n      item = this.state.packitem.Item;\r\n    }\r\n    return (\r\n      <Modal show={this.state.showModal} onHide={this.close}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <table id=\"table_input\" className=\"table-condensed\">\r\n            <tbody>\r\n              <tr>\r\n                <td>ID:</td>\r\n                <td>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"id\"\r\n                    name=\"id\"\r\n                    readOnly={true}\r\n                    disabled=\"disabled\"\r\n                    defaultValue={this.state.packitem.id}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>ItemID:</td>\r\n                <td>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"itemid\"\r\n                    name=\"item_id\"\r\n                    readOnly={true}\r\n                    disabled=\"disabled\"\r\n                    defaultValue={item.id}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>:</td>\r\n                <td>\r\n                  <input\r\n                    style={{ backgroundColor: this.state.bg.addr }}\r\n                    type=\"text\"\r\n                    id=\"addr\"\r\n                    name=\"name\"\r\n                    value={item.name}\r\n                    onChange={this.handleChange_item}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <label>:</label>\r\n                </td>\r\n                <td>\r\n                  <input\r\n                    style={{ backgroundColor: this.state.bg.yiqixinghao }}\r\n                    type=\"text\"\r\n                    name=\"guige\"\r\n                    value={item.guige}\r\n                    onChange={this.handleChange_item}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <label>:</label>\r\n                </td>\r\n                <td>\r\n                  <input\r\n                    style={{ backgroundColor: this.state.bg.baoxiang }}\r\n                    type=\"text\"\r\n                    id=\"baoxiang\"\r\n                    name=\"bh\"\r\n                    value={item.bh}\r\n                    onChange={this.handleChange_item}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <label>:</label>\r\n                </td>\r\n                <td>\r\n                  <input\r\n                    style={{ backgroundColor: this.state.bg.baoxiang }}\r\n                    type=\"text\"\r\n                    id=\"danwei\"\r\n                    name=\"danwei\"\r\n                    value={item.danwei}\r\n                    onChange={this.handleChange_item}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <label>:</label>\r\n                </td>\r\n                <td>\r\n                  <input\r\n                    type=\"text\"\r\n                    style={{ backgroundColor: this.state.bg.ct }}\r\n                    id=\"yujifahuo_date\"\r\n                    name=\"ct\"\r\n                    value={this.state.packitem.ct}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <label>:</label>\r\n                </td>\r\n                <td>\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"quehuo\"\r\n                    name=\"quehuo\"\r\n                    checked={this.state.packitem.quehuo}\r\n                    onChange={this.quehuoChange}\r\n                  />\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div>\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              id=\"bt_save\"\r\n              onClick={this.handleSave}\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  };\r\n}\r\n//////////////\r\nclass PackItems extends React.Component {\r\n  state = {\r\n    items: [],\r\n    showRemoveIcon: false,\r\n    newPackName: '',\r\n    auto_value: '',\r\n    auto_items: [],\r\n    auto_loading: false,\r\n    release: true,\r\n  };\r\n  componentDidMount = () => {\r\n    //console.log(this.props.pack_id);\r\n    socket.emit('/get/PackItem', { pack_id: this.props.pack_id }, items => {\r\n      //console.log(\"PackItems componentDidMount\");\r\n      //console.log(items);\r\n      this.setState({\r\n        items: items.data, //.slice(0, MATCHING_ITEM_LIMIT),\r\n      });\r\n    });\r\n  };\r\n  auto_select = (event, data) => {\r\n    //console.log(\"selected\");\r\n    //console.log(data)\r\n    this.addrow(data.suggestion.id);\r\n    //this.setState({auto_value:value, auto_items: [ item ] })\r\n  };\r\n  auto_change = data => {\r\n    var value = data.value;\r\n    //console.log(\"auto_change\");\r\n    if (value.length > 1) {\r\n      socket.emit('/get/Item', { search: value, limit: 30 }, items => {\r\n        this.setState({ auto_items: items.data, auto_loading: false });\r\n      });\r\n    }\r\n  };\r\n  new_packitem = id => {\r\n    var data = {\r\n      danwei: '',\r\n      bh: '',\r\n      guige: '',\r\n      ct: 0,\r\n      img: '',\r\n      name: this.state.newPackName,\r\n      pack_id: this.props.pack_id,\r\n    };\r\n    //console.log(data);\r\n    socket.emit('/post/PackItemEx', data, res => {\r\n      var p = res.data;\r\n      const newFoods = this.state.items.concat(p);\r\n      this.setState({ items: newFoods });\r\n    });\r\n  };\r\n  new_packitem2 = () => {\r\n    var data = {\r\n      danwei: '',\r\n      bh: '',\r\n      guige: '',\r\n      ct: 0,\r\n      img: '',\r\n      name: this.state.auto_value,\r\n      pack_id: this.props.pack_id,\r\n    };\r\n    //console.log(data);\r\n    socket.emit('/post/PackItemEx', data, res => {\r\n      var p = res.data;\r\n      const newFoods = this.state.items.concat(p);\r\n      this.setState({ items: newFoods });\r\n    });\r\n  };\r\n  handlePackItemChange = (idx, contact) => {\r\n    //console.log(idx);\r\n    const contacts2 = update(this.state.items, { [idx]: { $set: contact } });\r\n    //console.log(contacts2);\r\n    this.setState({ items: contacts2 });\r\n  };\r\n  addrow = item_id => {\r\n    // var url = '/PackItem';\r\n    var data = {\r\n      pack_id: this.props.pack_id,\r\n      item_id: item_id,\r\n      ct: 1,\r\n      quehuo: false,\r\n    };\r\n    socket.emit('/post/PackItem', data, res => {\r\n      var p = res.data;\r\n      const newFoods = this.state.items.concat(p);\r\n      this.setState({ items: newFoods });\r\n    });\r\n  };\r\n  newpackChange = e => {\r\n    this.setState({ newPackName: e.target.value });\r\n  };\r\n  onEditClick = id => {};\r\n  onDeleteClick = itemIndex => {\r\n    // var url = '/PackItem';\r\n    socket.emit(\r\n      '/delete/PackItem',\r\n      { id: this.state.items[itemIndex].id },\r\n      res => {\r\n        const filteredFoods = this.state.items.filter(\r\n          (item, idx) => itemIndex !== idx\r\n        );\r\n        this.setState({ items: filteredFoods });\r\n      }\r\n    );\r\n  };\r\n  handleEdit = idx => {\r\n    this.refs.dlg.open2(idx);\r\n  };\r\n  onChange = (event, { newValue }) => {\r\n    //console.log(newValue);\r\n    this.setState({ auto_value: newValue });\r\n  };\r\n  render() {\r\n    //console.log(\"render\");\r\n    //console.log(this.state);\r\n    const { items } = this.state;\r\n    const itemRows = items.map((item, idx) => (\r\n      <tr key={idx}>\r\n        <td>{item.id}</td>\r\n        <td>{item.Item.name}</td>\r\n        <td>{item.Item.guige}</td>\r\n        <td>{item.ct}</td>\r\n        <td>{item.Item.bh}</td>\r\n        <td hidden={this.state.release}>{item.pack}</td>\r\n        <td>\r\n          <input\r\n            type=\"checkbox\"\r\n            disabled=\"disabled\"\r\n            name=\"quehuo\"\r\n            checked={item.quehuo}\r\n          />\r\n        </td>\r\n        <td>\r\n          <Button onClick={() => this.handleEdit(idx)}></Button>\r\n          <Button\r\n            style={{ marginLeft: '10px' }}\r\n            onClick={() => this.onDeleteClick(idx)}\r\n          >\r\n            \r\n          </Button>\r\n        </td>\r\n      </tr>\r\n    ));\r\n    let button1;\r\n    if (this.state.auto_value.length > 1) {\r\n      button1 = <Button onClick={this.new_packitem2}></Button>;\r\n    } else {\r\n      button1 = (\r\n        <Button disabled onClick={this.new_packitem2}>\r\n          \r\n        </Button>\r\n      );\r\n    }\r\n    return (\r\n      <div>\r\n        <Table responsive bordered condensed>\r\n          <thead>\r\n            <tr>\r\n              <td>id</td>\r\n              <td></td>\r\n              <td></td>\r\n              <td></td>\r\n              <td></td>\r\n              <td hidden={this.state.release}>pack</td>\r\n              <td></td>\r\n              <td></td>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{itemRows}</tbody>\r\n        </Table>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td></td>\r\n              <td>\r\n                <Autosuggest\r\n                  focusInputOnSuggestionClick={false}\r\n                  inputProps={{\r\n                    id: 'states-autocomplete',\r\n                    value: this.state.auto_value,\r\n                    onChange: this.onChange,\r\n                  }}\r\n                  onSuggestionSelected={this.auto_select}\r\n                  onSuggestionsFetchRequested={this.auto_change}\r\n                  onSuggestionsClearRequested={()=>{}}\r\n                  getSuggestionValue={item => item.name}\r\n                  ref=\"autocomplete\"\r\n                  suggestions={this.state.auto_items}\r\n                  renderSuggestion={item => (\r\n                    <span>\r\n                      {item.bh}\r\n                      <b>\r\n                        <i>{item.name}</i>\r\n                      </b>\r\n                      {item.guige}\r\n                    </span>\r\n                  )}\r\n                />\r\n              </td>\r\n              <td>{button1}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <PackItemEditNew ref=\"dlg\" parent={this} />\r\n      </div>\r\n    );\r\n  }\r\n} /////////////////\r\nclass UsePackEditNew extends React.Component {\r\n  state = {\r\n    showModal: false,\r\n    usepack: {},\r\n    bg: {},\r\n  };\r\n\r\n  close = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n  handleChange = () => {};\r\n  // componentWillReceiveProps(nextProps) {\r\n  //   this.setState({ showModal: nextProps.showModal });\r\n  //   if (nextProps.index==null){\r\n  //     this.old={};\r\n  //   }\r\n  //   else{\r\n  //     this.parent=nextProps.parent;\r\n  //     this.old=this.parent.state.usepacks[nextProps.index];\r\n  //   }\r\n  //   this.setState({usepack:this.old});\r\n  // }\r\n  close = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n  open2 = idx => {\r\n    this.index = idx;\r\n    this.setState({ showModal: true });\r\n    if (this.index == null) {\r\n      this.old = {};\r\n    } else {\r\n      this.parent = this.props.parent;\r\n      this.old = this.parent.state.usepacks[this.index];\r\n    }\r\n    this.setState({ usepack: this.old });\r\n    //console.log(this.old);\r\n  };\r\n  // open=()=>{\r\n  //   this.setState({ showModal: true });\r\n  //   if (this.index==null){\r\n  //     this.old={};\r\n  //   }\r\n  //   else{\r\n  //     this.parent=this.props.parent;\r\n  //     this.old=this.parent.state.usepacks[this.index];\r\n  //   }\r\n  //   this.setState({usepack:this.old});\r\n  // }\r\n  render = () => {\r\n    let name;\r\n    let id;\r\n    if (this.state.usepack.Pack) {\r\n      name = this.state.usepack.Pack.name;\r\n      id = this.state.usepack.Pack.id;\r\n    }\r\n    return (\r\n      <Modal\r\n        show={this.state.showModal}\r\n        onHide={this.close}\r\n        dialogClassName=\"custom-modal\"\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <table id=\"table_input\" className=\"table-condensed\">\r\n            <tbody>\r\n              <tr>\r\n                <td>ID:</td>\r\n                <td>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"id\"\r\n                    name=\"id\"\r\n                    readOnly={true}\r\n                    disabled=\"disabled\"\r\n                    defaultValue={id}\r\n                  />\r\n                </td>\r\n                <td>\r\n                  <label>:</label>\r\n                </td>\r\n                <td>\r\n                  <label>{name}</label>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div id=\"id_useusepacks\">\r\n            <PackItems pack_id={id} />\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  };\r\n}\r\n/////\r\nclass DlgFolder extends React.Component {\r\n  state = {\r\n    showModal: false,\r\n    hiddenPacks: true,\r\n    error: '',\r\n  };\r\n\r\n  close = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  open = () => {\r\n    var self = this;\r\n    this.setState({ showModal: true });\r\n    socket.emit('/folder', { id: this.props.contact_id }, function(result) {\r\n      console.info(result);\r\n      if (!result.success) {\r\n        self.setState({ error: result.message });\r\n      } else {\r\n        self.close();\r\n      }\r\n    });\r\n  };\r\n  render = () => {\r\n    return (\r\n      <Modal\r\n        show={this.state.showModal}\r\n        onHide={this.close}\r\n        dialogClassName=\"custom-modal\"\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div>{this.state.error}</div>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  };\r\n}\r\n///////\r\nclass DlgCheck extends React.Component {\r\n  state = {\r\n    showModal: false,\r\n    error: '',\r\n    packs: [],\r\n    hideTable: true,\r\n  };\r\n\r\n  close = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n  upload = () => {\r\n    const file = this.fileUpload.files[0];\r\n    //console.log(file);\r\n    var data1 = new FormData();\r\n    data1.append('file', file);\r\n    data1.append('id', this.props.contact_id);\r\n    ////console.log(data1)\r\n    var self = this;\r\n    socket.emit('/check', data1, function(data) {\r\n      var showdata = [];\r\n      var left = data.result[0];\r\n      var notequal = data.result[1];\r\n      var right = data.result[2];\r\n      //console.log(notequal);\r\n      var n = left.length;\r\n      if (n < right.length) {\r\n        n = right.length;\r\n      }\r\n      for (var i = 0; i < n; i++) {\r\n        var tr = {};\r\n        if (i < left.length) {\r\n          for (var one in left[i]) {\r\n            tr['left' + one] = left[i][one];\r\n          }\r\n        } else {\r\n          tr['left0'] = '';\r\n          tr['left1'] = '';\r\n          tr['left2'] = '';\r\n        }\r\n        if (i < right.length) {\r\n          for (one in right[i]) {\r\n            tr['right' + one] = right[i][one];\r\n          }\r\n        } else {\r\n          tr['right0'] = '';\r\n          tr['right1'] = '';\r\n          tr['right2'] = '';\r\n        }\r\n        showdata.push(tr);\r\n      }\r\n      n = notequal.length;\r\n      for (i = 0; i < n / 2; i++) {\r\n        tr = {};\r\n        var l = 2 * i + 0;\r\n        for (one in notequal[l]) {\r\n          tr['left' + one] = notequal[l][one];\r\n        }\r\n        var r = 2 * i + 1;\r\n        for (one in notequal[r]) {\r\n          tr['right' + one] = notequal[r][one];\r\n        }\r\n        showdata.push(tr);\r\n      }\r\n      //console.log(showdata);\r\n      self.setState({ packs: showdata });\r\n      self.setState({ hideTable: false });\r\n    });\r\n  };\r\n  open = () => {\r\n    this.setState({ showModal: true });\r\n    this.setState({ hideTable: true });\r\n  };\r\n  render = () => {\r\n    const contactRows = this.state.packs.map((pack, idx) => (\r\n      <tr key={idx}>\r\n        <td style={{ color: 'blue' }}>{pack.left0}</td>\r\n        <td style={{ color: 'blue' }}>{pack.left1}</td>\r\n        <td style={{ color: 'blue' }}>{pack.left2}</td>\r\n        <td style={{ color: 'green' }}>{pack.right0}</td>\r\n        <td style={{ color: 'green' }}>{pack.right1}</td>\r\n        <td style={{ color: 'green' }}>{pack.right2}</td>\r\n      </tr>\r\n    ));\r\n    return (\r\n      <Modal\r\n        show={this.state.showModal}\r\n        onHide={this.close}\r\n        dialogClassName=\"custom-modal\"\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>{this.props.title}</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <p>\r\n            {this.props.yiqibh}\r\n            Excel\r\n          </p>\r\n          <form ref=\"form1\" encType=\"multipart/form-data\">\r\n            <input\r\n              style={{ margin: '10px 10px 10px 10px' }}\r\n              id=\"file\"\r\n              accept=\"application/vnd.ms-excel\"\r\n              type=\"file\"\r\n              name=\"file\"\r\n              ref={ref => (this.fileUpload = ref)}\r\n            />\r\n            <button\r\n              style={{ margin: '10px 10px 10px 10px' }}\r\n              className=\"btn btn-primary\"\r\n              onClick={this.upload}\r\n              type=\"button\"\r\n            >\r\n              \r\n            </button>\r\n          </form>\r\n          <div hidden={this.state.hideTable} style={{ minHeight: '200px' }}>\r\n            <table className=\"table-bordered\">\r\n              <tbody>\r\n                <tr>\r\n                  <td style={{ color: 'blue' }} colSpan=\"3\">\r\n                    \r\n                  </td>\r\n                  <td style={{ color: 'green' }} colSpan=\"3\">\r\n                    \r\n                  </td>\r\n                </tr>\r\n                {contactRows}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div>{this.state.error}</div>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  };\r\n}\r\n///////\r\nclass DlgWait extends React.Component {\r\n  state = {\r\n    showModal: false,\r\n    hiddenPacks: true,\r\n    error: '',\r\n  };\r\n\r\n  close = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  open = () => {\r\n    var self = this;\r\n    this.setState({ showModal: true });\r\n    socket.emit('/allfile', { id: this.props.contact_id }, function(result) {\r\n      console.info(result);\r\n      if (!result.success) {\r\n        self.setState({ error: result.message });\r\n      } else {\r\n        self.close();\r\n      }\r\n    });\r\n  };\r\n  render = () => {\r\n    return (\r\n      <Modal\r\n        show={this.state.showModal}\r\n        onHide={this.close}\r\n        dialogClassName=\"custom-modal\"\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div>{this.state.error}</div>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  };\r\n}\r\n/////////////\r\nclass DlgUrl extends React.Component {\r\n  state = {\r\n    showModal: false,\r\n    error: '',\r\n  };\r\n\r\n  close = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  open = () => {\r\n    var self = this;\r\n    this.setState({ showModal: true });\r\n    socket.emit(this.props.url, this.props.data, function(result) {\r\n      console.info(result);\r\n      if (!result.success) {\r\n        self.setState({ error: result.message });\r\n      } else {\r\n        self.props.parent.handleContactChange(self.props.index, result.data);\r\n        self.close();\r\n      }\r\n    });\r\n  };\r\n  render = () => {\r\n    return (\r\n      <Modal\r\n        show={this.state.showModal}\r\n        onHide={this.close}\r\n        dialogClassName=\"custom-modal\"\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <div>{this.state.error}</div>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  };\r\n}\r\n//////////////\r\nclass UsePacks2 extends React.Component {\r\n  state = {\r\n    usepacks: [],\r\n    showRemoveIcon: false,\r\n    newPackName: '',\r\n    auto_value: '',\r\n    auto_items: [],\r\n    release: true,\r\n  };\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.contact_id) {\r\n      this.load_data(nextProps.contact_id);\r\n    }\r\n  }\r\n  load_data = contact_id => {\r\n    socket.emit('/get/UsePack', { contact_id: contact_id }, usepacks => {\r\n      //console.log(usepacks)\r\n      this.setState({\r\n        usepacks: usepacks.data, //.slice(0, MATCHING_ITEM_LIMIT),\r\n      });\r\n    });\r\n  };\r\n  componentDidMount = () => {\r\n    if (this.props.contact_id) {\r\n      this.load_data(this.props.contact_id);\r\n    }\r\n  };\r\n  auto_change = data => {\r\n    var value = data.value;\r\n    if (value.length > 1) {\r\n      socket.emit('/get/Pack', { search: value }, items => {\r\n        this.setState({ auto_items: items.data });\r\n      });\r\n    }\r\n  };\r\n  auto_select = (event, data) => {\r\n    //console.log(\"selected\");\r\n    //console.log(data)\r\n    this.addrow(data.suggestion.id);\r\n    //this.setState({auto_value:value, auto_items: [ item ] })\r\n  };\r\n  bibei = id => {\r\n    //this.setState({auto_value:\"\"});\r\n    this.onChange(null, { newValue: '' });\r\n    //console.log(this.refs.autocomplete);\r\n  };\r\n  new_pack = id => {\r\n    // var url = '/UsePackEx';\r\n    var data = {\r\n      name: this.state.auto_value,\r\n      contact_id: this.props.contact_id,\r\n    };\r\n    socket.emit('/post/UsePackEx', data, res => {\r\n      var p = res.data;\r\n      const newFoods = this.state.usepacks.concat(p);\r\n      this.setState({ usepacks: newFoods });\r\n    });\r\n  };\r\n  addrow = pack_id => {\r\n    // var url = '/UsePack';\r\n    var data = { contact_id: this.props.contact_id, pack_id: pack_id };\r\n    socket.emit('/post/UsePack', data, res => {\r\n      var p = res.data;\r\n      const newFoods = this.state.usepacks.concat(p);\r\n      this.setState({ usepacks: newFoods });\r\n    });\r\n  };\r\n  newpackChange = e => {\r\n    this.setState({ newPackName: e.target.value });\r\n  };\r\n  onEditClick = id => {};\r\n  onDeleteClick = itemIndex => {\r\n    // var url = '/UsePack';\r\n    socket.emit(\r\n      '/delete/UsePack',\r\n      { id: this.state.usepacks[itemIndex].id },\r\n      res => {\r\n        const filteredFoods = this.state.usepacks.filter(\r\n          (item, idx) => itemIndex !== idx\r\n        );\r\n        this.setState({ usepacks: filteredFoods });\r\n      }\r\n    );\r\n  };\r\n  handleEdit = idx => {\r\n    //this.setState({currentIndex:idx,showModal:true});\r\n    this.refs.edit1.open2(idx);\r\n  };\r\n  getUsers = input => {\r\n    //console.log(\"getUsers\");\r\n    //console.log(input)\r\n    if (!input) {\r\n      return Promise.resolve({ options: [] });\r\n    }\r\n\r\n    return fetch('/Pack?limit=10&search=' + input, { credentials: 'include' })\r\n      .then(response => response.json())\r\n      .then(json => {\r\n        var r = { options: json.data };\r\n        //console.log(r);\r\n        return r;\r\n      });\r\n  };\r\n  onChange = (event, { newValue }) => {\r\n    //console.log(\"onChange======================\");\r\n    //console.log(newValue)\r\n    this.setState({\r\n      auto_value: newValue,\r\n    });\r\n  };\r\n  onValueClick = value => {\r\n    //console.log(value);\r\n  };\r\n  render() {\r\n    const { usepacks } = this.state;\r\n    const usepackRows = usepacks.map((usepack, idx) => (\r\n      <tr key={idx}>\r\n        <td>{usepack.id}</td>\r\n        <td>{usepack.Pack.name}</td>\r\n        <td hidden={this.state.release}>{usepack.contact}</td>\r\n        <td hidden={this.state.release}>{usepack.pack}</td>\r\n        <td hidden={this.state.release}>{usepack.hetongbh}</td>\r\n        <td>\r\n          <Button onClick={() => this.handleEdit(idx)}></Button>\r\n          <Button\r\n            onClick={() => this.onDeleteClick(idx)}\r\n            style={{ marginLeft: '10px' }}\r\n          >\r\n            \r\n          </Button>\r\n        </td>\r\n      </tr>\r\n    ));\r\n    ////console.log(\"UsePacks2 render===================\");\r\n    ////console.log(this.state);\r\n    let button1;\r\n    if (this.state.auto_value.length > 1) {\r\n      button1 = <Button onClick={this.new_pack}></Button>;\r\n    } else {\r\n      button1 = (\r\n        <Button disabled onClick={this.new_pack}>\r\n          \r\n        </Button>\r\n      );\r\n    }\r\n    return (\r\n      <div>\r\n        <UsePackEditNew\r\n          ref=\"edit1\"\r\n          parent={this}\r\n          index={this.state.currentIndex}\r\n          title=\"\"\r\n        />\r\n        <Table responsive bordered condensed>\r\n          <thead>\r\n            <tr>\r\n              <td>id</td>\r\n              <td></td>\r\n              <td hidden={this.state.release}>contact</td>\r\n              <td hidden={this.state.release}>pack</td>\r\n              <td hidden={this.state.release}>hetongbh</td>\r\n              <td></td>\r\n            </tr>\r\n          </thead>\r\n          <tbody>{usepackRows}</tbody>\r\n        </Table>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td></td>\r\n              <td>\r\n                <Autosuggest\r\n                  focusInputOnSuggestionClick={false}\r\n                  inputProps={{\r\n                    id: 'states-autocomplete',\r\n                    value: this.state.auto_value,\r\n                    onChange: this.onChange,\r\n                  }}\r\n                  onSuggestionSelected={this.auto_select}\r\n                  onSuggestionsFetchRequested={this.auto_change}\r\n                  onSuggestionsClearRequested={()=>{}}\r\n                  getSuggestionValue={item => item.name}\r\n                  ref=\"autocomplete\"\r\n                  suggestions={this.state.auto_items}\r\n                  renderSuggestion={item => <span>{item.name}</span>}\r\n                />\r\n              </td>\r\n              <td>\r\n                <button className=\"btn\" onClick={this.bibei}>\r\n                  \r\n                </button>\r\n              </td>\r\n              <td>{button1}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n/////////////\r\nclass DlgImport extends React.Component {\r\n  state = {\r\n    showModal: false,\r\n    error: '',\r\n    packs: [],\r\n  };\r\n\r\n  close = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n  upload = () => {\r\n    const file = this.fileUpload.files[0];\r\n    var stream = ss.createStream();\r\n    // upload a file to the server.\r\n    var app = this;\r\n    ss(socket).emit(\r\n      'file',\r\n      stream,\r\n      { name: file.name, size: file.size },\r\n      res => {\r\n        //console.log(app.state.packs)\r\n        //console.log(res);\r\n        const newFoods = update(app.state.packs, { $push: res.result });\r\n        app.setState({ packs: newFoods });\r\n      }\r\n    );\r\n    ss.createBlobReadStream(file).pipe(stream);\r\n    // //console.log(file);\r\n    // var data1=new FormData();\r\n    // data1.append(\"file\",file);\r\n    // ////console.log(data1)\r\n    // var self=this;\r\n    // Client.post(\"/standard\",data1,function(res){\r\n    //     const newFoods = update(self.state.packs, {$push: res.result});\r\n    //     self.setState({packs: newFoods });\r\n    // });\r\n  };\r\n  open = () => {\r\n    var self = this;\r\n    this.setState({ showModal: true });\r\n    var data = { limit: 10, search: 'xls' };\r\n    socket.emit('/get/Pack', data, function(result) {\r\n      console.info(result);\r\n      // if (!result.success){\r\n      //    self.setState({error:result.message});\r\n      // }\r\n      // else\r\n      self.setState({ packs: result.data });\r\n      //console.log(result.data);\r\n    });\r\n  };\r\n  render = () => {\r\n    const contactRows = this.state.packs.map((pack, idx) => (\r\n      <tr key={idx}>\r\n        <td>{pack.id}</td>\r\n        <td>{pack.name}</td>\r\n      </tr>\r\n    ));\r\n    return (\r\n      <Modal show={this.state.showModal} onHide={this.close}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <form ref=\"form1\" encType=\"multipart/form-data\">\r\n            <input\r\n              style={{ margin: '10px 10px 10px 10px' }}\r\n              id=\"file\"\r\n              accept=\"application/vnd.ms-excel\"\r\n              type=\"file\"\r\n              name=\"file\"\r\n              ref={ref => (this.fileUpload = ref)}\r\n            />\r\n            <button\r\n              style={{ margin: '10px 10px 10px 10px' }}\r\n              className=\"btn btn-primary\"\r\n              onClick={this.upload}\r\n              type=\"button\"\r\n            >\r\n              \r\n            </button>\r\n          </form>\r\n          <div style={{ minHeight: '200px' }}>\r\n            <table className=\"table-bordered\">\r\n              <thead>\r\n                <tr>\r\n                  <td>ID</td>\r\n                  <td></td>\r\n                </tr>\r\n              </thead>\r\n              <tbody>{contactRows}</tbody>\r\n            </table>\r\n          </div>\r\n          <div>{this.state.error}</div>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  };\r\n}\r\n///////////////////////\r\nclass DlgStat extends React.Component {\r\n  state = {\r\n    showModal: false,\r\n    error: '',\r\n    lbls: [],\r\n    values: [],\r\n    baoxiang: '%',\r\n  };\r\n  componentDidMount = () => {\r\n    //console.log(this.myChart);\r\n    return;\r\n  };\r\n  close = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n  open = () => {\r\n    this.setState({ showModal: true });\r\n    this.loaddata('%');\r\n  };\r\n  loaddata = baoxiang => {\r\n    var self = this;\r\n    var data = { baoxiang: baoxiang };\r\n    socket.emit('/get/month12', data, function(result) {\r\n      //console.log(\"month12============================\");\r\n      //console.log(result);\r\n      //console.log(\"===================\");\r\n      self.setState({ lbls: result.lbls, values: result.values });\r\n    });\r\n  };\r\n  onSelectBaoxiang = baoxiang => {\r\n    this.setState({ baoxiang: baoxiang });\r\n    this.loaddata(baoxiang);\r\n  };\r\n  logChange = val => {\r\n    //console.log(\"Selected: \" + JSON.stringify(val));\r\n    if (val != null) {\r\n      this.setState({ baoxiang: val.value });\r\n      this.loaddata(val.value);\r\n    } else {\r\n      this.setState({ baoxiang: '%' });\r\n      this.loaddata('%');\r\n    }\r\n  };\r\n  render = () => {\r\n    var bg = []; //values.length);\r\n    for (var i = 0; i < this.state.values.length; i++) {\r\n      bg.push('rgba(95, 192, 99, 1)');\r\n    }\r\n    var data = {\r\n      labels: this.state.lbls,\r\n      datasets: [\r\n        {\r\n          label: '',\r\n          data: this.state.values,\r\n          backgroundColor: bg,\r\n          borderWidth: 2,\r\n        },\r\n      ],\r\n    };\r\n    //console.log(data);\r\n    var options = {\r\n      scales: {\r\n        yAxes: [\r\n          {\r\n            ticks: {\r\n              beginAtZero: true,\r\n            },\r\n          },\r\n        ],\r\n      },\r\n    };\r\n    return (\r\n      <Modal\r\n        ref=\"modal\"\r\n        show={this.state.showModal}\r\n        onHide={this.close}\r\n        dialogClassName=\"custom-modal\"\r\n      >\r\n        <Modal.Header ref=\"header\" closeButton>\r\n          <Modal.Title></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body ref=\"body\">\r\n          <DropdownButton\r\n            ref=\"drop\"\r\n            title={this.state.baoxiang}\r\n            id=\"id_dropdown2\"\r\n          >\r\n            <MenuItem onSelect={() => this.onSelectBaoxiang('')}>\r\n              \r\n            </MenuItem>\r\n            <MenuItem onSelect={() => this.onSelectBaoxiang('')}>\r\n              \r\n            </MenuItem>\r\n            <MenuItem onSelect={() => this.onSelectBaoxiang('')}>\r\n              \r\n            </MenuItem>\r\n            <MenuItem onSelect={() => this.onSelectBaoxiang('%')}>*</MenuItem>\r\n          </DropdownButton>\r\n          {\r\n            //<canvas ref={(input) => { this.myChart = input; }} id=\"myChart\" width=\"400\" height=\"400\"></canvas>\r\n          }\r\n          <Bar data={data} options={options} width={600} height={300} />\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  };\r\n}\r\n/////////////////////////////\r\nclass DlgCopyPack extends React.Component {\r\n  state = {\r\n    showModal: false,\r\n    error: '',\r\n    lbls: [],\r\n    values: [],\r\n    newPackName: '',\r\n    newname: '',\r\n    auto_value: '',\r\n    auto_items: [],\r\n    auto_loading: false,\r\n  };\r\n  newnameChange = event => {\r\n    this.setState({ newname: event.target.value });\r\n  };\r\n  copy_pack = () => {\r\n    //console.log(this.src_id+\" \"+this.state.newname);\r\n    var self = this;\r\n    var data1 = {};\r\n    data1.oldid = this.src_id;\r\n    data1.newname = this.state.newname;\r\n    socket.emit('/copypack/', data1, result => {\r\n      self.setState({ error: result.message });\r\n    });\r\n  };\r\n  auto_change = data => {\r\n    var value = data.value;\r\n    //console.log(\"auto_change\");\r\n    if (value.length > 1) {\r\n      socket.emit('/get/Pack', { search: value }, items => {\r\n        this.setState({ auto_items: items.data, auto_loading: false });\r\n      });\r\n    }\r\n  };\r\n  auto_select = (event, data) => {\r\n    //console.log(\"selected\");\r\n    //console.log(data)\r\n    this.src_id = data.suggestion.id;\r\n    //this.setState({ auto_items: [ item ] })\r\n  };\r\n  close = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n  open = () => {\r\n    this.setState({ showModal: true });\r\n    this.src_id = null;\r\n  };\r\n  onChange = (event, { newValue }) => {\r\n    //console.log(newValue);\r\n    this.setState({ auto_value: newValue });\r\n  };\r\n  render = () => {\r\n    return (\r\n      <Modal show={this.state.showModal} onHide={this.close}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <table>\r\n            <tbody>\r\n              <tr>\r\n                <td>\r\n                  <label>:</label>\r\n                </td>\r\n                <td>\r\n                  <Autosuggest\r\n                    inputProps={{\r\n                      id: 'states-autocomplete',\r\n                      value: this.state.auto_value,\r\n                      onChange: this.onChange,\r\n                    }}\r\n                    onSuggestionSelected={this.auto_select}\r\n                    onSuggestionsFetchRequested={this.auto_change}\r\n                    onSuggestionsClearRequested={\r\n                      ()=>{}\r\n                    }\r\n                    getSuggestionValue={item => item.name}\r\n                    ref=\"autocomplete\"\r\n                    suggestions={this.state.auto_items}\r\n                    renderSuggestion={(item, isHighlighted) => (\r\n                      <div\r\n                        key={item.id}\r\n                        id={item.id}\r\n                      >\r\n                        {item.name}\r\n                      </div>\r\n                    )}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <label>:</label>\r\n                </td>\r\n                <td>\r\n                  <input\r\n                    id=\"nameto\"\r\n                    type=\"text\"\r\n                    onChange={this.newnameChange}\r\n                    size=\"15\"\r\n                    value={this.state.newname}\r\n                    maxLength=\"30\"\r\n                  />\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <button onClick={this.copy_pack}></button>\r\n          <p>{this.state.error}</p>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  };\r\n}\r\n//DlgParts///////////////////////////\r\nclass DlgPacks extends React.Component {\r\n  mystate = {\r\n    start: 0,\r\n    limit: 5,\r\n    baoxiang: '',\r\n    logined: false,\r\n    search: '',\r\n  };\r\n  state = {\r\n    contacts: [],\r\n    user: 'AnonymousUser',\r\n    start: 0,\r\n    total: 0,\r\n    search: '',\r\n    start_input: 1,\r\n    showModal: false,\r\n    error: '',\r\n    lbls: [],\r\n    values: [],\r\n    newPackName: '',\r\n    newname: '',\r\n    auto_value: '',\r\n    auto_items: [],\r\n    auto_loading: false,\r\n  };\r\n  close = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n  open = () => {\r\n    this.setState({ showModal: true });\r\n    this.loaddata();\r\n  };\r\n  loaddata = () => {\r\n    socket.emit(\r\n      '/get/Pack',\r\n      {\r\n        start: this.mystate.start,\r\n        limit: this.mystate.limit,\r\n        search: this.mystate.search,\r\n        baoxiang: this.mystate.baoxiang,\r\n      },\r\n      contacts2 => {\r\n        var user = contacts2.user;\r\n        if (user === undefined) {\r\n          user = 'AnonymousUser';\r\n        }\r\n        this.setState({\r\n          contacts: contacts2.data, //.slice(0, MATCHING_ITEM_LIMIT),\r\n          user: user,\r\n          total: contacts2.total,\r\n          start: this.mystate.start,\r\n        });\r\n        this.mystate.total = contacts2.total;\r\n      }\r\n    );\r\n  };\r\n  handlePrev = e => {\r\n    this.mystate.start = this.mystate.start - this.mystate.limit;\r\n    if (this.mystate.start < 0) {\r\n      this.mystate.start = 0;\r\n    }\r\n    //this.setState({start:start});\r\n    this.loaddata();\r\n  };\r\n  handleNext = e => {\r\n    this.mystate.start = this.mystate.start + this.mystate.limit;\r\n    if (this.mystate.start > this.mystate.total - this.mystate.limit)\r\n      this.mystate.start = this.mystate.total - this.mystate.limit; //total >limit\r\n    if (this.mystate.start < 0) {\r\n      this.mystate.start = 0;\r\n    }\r\n    this.loaddata();\r\n  };\r\n  jump = () => {\r\n    this.mystate.start = parseInt(this.state.start_input, 10) - 1;\r\n    if (this.mystate.start > this.mystate.total - this.mystate.limit)\r\n      this.mystate.start = this.mystate.total - this.mystate.limit; //total >limit\r\n    if (this.mystate.start < 0) {\r\n      this.mystate.start = 0;\r\n    }\r\n    this.loaddata();\r\n  };\r\n  handlePageChange = e => {\r\n    this.setState({ start_input: e.target.value });\r\n  };\r\n  mapfunc = (contact, idx) => {\r\n    ////console.log(contact);\r\n    if (contact.img == null || contact.image === '')\r\n      return (\r\n        <tr key={idx}>\r\n          <td>{contact.id}</td>\r\n          <td>{contact.name}</td>\r\n        </tr>\r\n      );\r\n    else\r\n      return (\r\n        <tr key={idx}>\r\n          <td>{contact.id}</td>\r\n          <td>{contact.name}</td>\r\n        </tr>\r\n      );\r\n  };\r\n  render = () => {\r\n    const contactRows = this.state.contacts.map(this.mapfunc);\r\n    return (\r\n      <Modal show={this.state.showModal} onHide={this.close}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Table responsive bordered condensed>\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody id=\"contact-list\">{contactRows}</tbody>\r\n          </Table>\r\n          <Button onClick={this.handlePrev}></Button>\r\n          <label id=\"page\">\r\n            {this.state.start + 1}../{this.state.total}\r\n          </label>\r\n          <Button onClick={this.handleNext}></Button>\r\n          <input\r\n            maxLength=\"6\"\r\n            size=\"6\"\r\n            onChange={this.handlePageChange}\r\n            value={this.state.start_input}\r\n          />\r\n          <button id=\"page_go\" className=\"btn btn-info\" onClick={this.jump}>\r\n            \r\n          </button>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  };\r\n}\r\n\r\n//DlgItems///////////////////////////\r\nclass DlgItems extends React.Component {\r\n  mystate = {\r\n    start: 0,\r\n    limit: 5,\r\n    baoxiang: '',\r\n    logined: false,\r\n    search: '',\r\n  };\r\n  state = {\r\n    contacts: [],\r\n    user: 'AnonymousUser',\r\n    start: 0,\r\n    total: 0,\r\n    search: '',\r\n    start_input: 1,\r\n    showModal: false,\r\n    error: '',\r\n    lbls: [],\r\n    values: [],\r\n    newPackName: '',\r\n    newname: '',\r\n    auto_value: '',\r\n    auto_items: [],\r\n    auto_loading: false,\r\n  };\r\n  close = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n  open = () => {\r\n    this.setState({ showModal: true });\r\n    this.loaddata();\r\n  };\r\n  loaddata = () => {\r\n    socket.emit(\r\n      '/get/Item',\r\n      {\r\n        start: this.mystate.start,\r\n        limit: this.mystate.limit,\r\n        search: this.mystate.search,\r\n        baoxiang: this.mystate.baoxiang,\r\n      },\r\n      contacts2 => {\r\n        var user = contacts2.user;\r\n        if (user === undefined) {\r\n          user = 'AnonymousUser';\r\n        }\r\n        this.setState({\r\n          contacts: contacts2.data, //.slice(0, MATCHING_ITEM_LIMIT),\r\n          user: user,\r\n          total: contacts2.total,\r\n          start: this.mystate.start,\r\n        });\r\n        this.mystate.total = contacts2.total;\r\n      }\r\n    );\r\n  };\r\n  handlePrev = e => {\r\n    this.mystate.start = this.mystate.start - this.mystate.limit;\r\n    if (this.mystate.start < 0) {\r\n      this.mystate.start = 0;\r\n    }\r\n    //this.setState({start:start});\r\n    this.loaddata();\r\n  };\r\n  handleNext = e => {\r\n    this.mystate.start = this.mystate.start + this.mystate.limit;\r\n    if (this.mystate.start > this.mystate.total - this.mystate.limit)\r\n      this.mystate.start = this.mystate.total - this.mystate.limit; //total >limit\r\n    if (this.mystate.start < 0) {\r\n      this.mystate.start = 0;\r\n    }\r\n    this.loaddata();\r\n  };\r\n  jump = () => {\r\n    this.mystate.start = parseInt(this.state.start_input, 10) - 1;\r\n    if (this.mystate.start > this.mystate.total - this.mystate.limit)\r\n      this.mystate.start = this.mystate.total - this.mystate.limit; //total >limit\r\n    if (this.mystate.start < 0) {\r\n      this.mystate.start = 0;\r\n    }\r\n    this.loaddata();\r\n  };\r\n  handlePageChange = e => {\r\n    this.setState({ start_input: e.target.value });\r\n  };\r\n  mapfunc = (contact, idx) => {\r\n    ////console.log(contact);\r\n    if (contact.img == null || contact.image === '')\r\n      return (\r\n        <tr key={idx}>\r\n          <td>{contact.id}</td>\r\n          <td>{contact.bh}</td>\r\n          <td>{contact.name}</td>\r\n          <td>{contact.guige}</td>\r\n          <td>{contact.danwei}</td>\r\n          <td />\r\n        </tr>\r\n      );\r\n    else\r\n      return (\r\n        <tr key={idx}>\r\n          <td>{contact.id}</td>\r\n          <td>{contact.bh}</td>\r\n          <td>{contact.name}</td>\r\n          <td>{contact.guige}</td>\r\n          <td>{contact.danwei}</td>\r\n          <td>\r\n            <img\r\n              alt=\"no\"\r\n              src={'/media/' + contact.image}\r\n              width=\"100\"\r\n              height=\"100\"\r\n            />\r\n          </td>\r\n        </tr>\r\n      );\r\n  };\r\n  render = () => {\r\n    const contactRows = this.state.contacts.map(this.mapfunc);\r\n    return (\r\n      <Modal\r\n        show={this.state.showModal}\r\n        onHide={this.close}\r\n        dialogClassName=\"custom-modal\"\r\n      >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Table responsive bordered condensed>\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th></th>\r\n                <th></th>\r\n                <th></th>\r\n                <th></th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody id=\"contact-list\">{contactRows}</tbody>\r\n          </Table>\r\n          <Button onClick={this.handlePrev}></Button>\r\n          <label id=\"page\">\r\n            {this.state.start + 1}../{this.state.total}\r\n          </label>\r\n          <Button onClick={this.handleNext}></Button>\r\n          <input\r\n            maxLength=\"6\"\r\n            size=\"6\"\r\n            onChange={this.handlePageChange}\r\n            value={this.state.start_input}\r\n          />\r\n          <button id=\"page_go\" className=\"btn btn-info\" onClick={this.jump}>\r\n            \r\n          </button>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  };\r\n}\r\n//ContactEdit//////////////////////\r\nclass ContactEdit extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    console.log(React);\r\n    \r\n  }\r\n  state = {\r\n    showModal: false,\r\n    contact: {\r\n      yujifahuo_date: moment(),\r\n      tiaoshi_date: moment(),\r\n    },\r\n    hiddenPacks: true,\r\n    bg: {},\r\n    date_open: false,\r\n  };\r\n\r\n  close = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n  // componentWillReceiveProps(nextProps) {\r\n  //    this.setState({ showModal: nextProps.showModal });\r\n  //    this.setState({bg:{}});\r\n  //    this.parent=nextProps.parent;\r\n  //    if (nextProps.index==null){\r\n  //      this.old={\r\n  //        yujifahuo_date:moment().format(\"YYYY-MM-DD\"),\r\n  //        tiaoshi_date:moment().format(\"YYYY-MM-DD\"),\r\n  //        addr:\"\",\r\n  //        channels:\"\",\r\n  //        baoxiang:\"\",\r\n  //        hetongbh:\"\",\r\n  //        shenhe:\"\",\r\n  //        yonghu:\"\",\r\n  //        yiqibh:\"\",\r\n  //        yiqixinghao:\"\"\r\n  //      };\r\n  //    }\r\n  //    else{\r\n  //      this.old=this.parent.state.contacts[nextProps.index];\r\n  //      this.setState({hiddenPacks:false});\r\n  //    }\r\n  //    this.setState({contact:this.old});\r\n  //  }\r\n  open2 = idx => {\r\n    this.setState({ showModal: true });\r\n    this.setState({ bg: {} });\r\n    this.parent = this.props.parent;\r\n    this.index = idx;\r\n    if (this.index == null) {\r\n      this.old = {\r\n        yujifahuo_date: moment().format('YYYY-MM-DD'),\r\n        tiaoshi_date: moment().format('YYYY-MM-DD'),\r\n        addr: '',\r\n        channels: '',\r\n        baoxiang: '',\r\n        hetongbh: '',\r\n        shenhe: '',\r\n        yonghu: '',\r\n        yiqibh: '',\r\n        yiqixinghao: '',\r\n      };\r\n      this.setState({ hiddenPacks: true });\r\n    } else {\r\n      this.old = this.parent.state.contacts[this.index];\r\n      if (this.old.channels === undefined) {\r\n        this.old.channels = '';\r\n      }\r\n      if (this.old.yiqixinghao === undefined) {\r\n        this.old.yiqixinghao = '';\r\n      }\r\n      this.setState({ hiddenPacks: false });\r\n    }\r\n    this.setState({ contact: this.old });\r\n  };\r\n\r\n  handleCopy = data => {\r\n    console.log('copy');\r\n    this.index = null;\r\n    var contact2 = update(this.state.contact, { id: { $set: '' } });\r\n    console.log(contact2);\r\n    this.setState({ contact: contact2 });\r\n    this.setState({ hiddenPacks: true });\r\n  };\r\n  handleSave = data => {\r\n    let url; //=\"/Contact\";\r\n    if (this.state.contact.id) {\r\n      url = '/put/Contact';\r\n    } else {\r\n      url = '/post/Contact';\r\n    }\r\n    socket.emit(url, this.state.contact, res => {\r\n      console.log(res);\r\n      if (res.success) {\r\n        this.setState({ contact: res.data });\r\n        this.parent.handleContactChange(this.index, res.data);\r\n        if (this.index) {\r\n          //console.log(\"true\");\r\n        } else {\r\n          //console.log(\"false\");\r\n          this.index = 0;\r\n        }\r\n        this.old = res.data;\r\n        this.setState({ bg: {} });\r\n        this.setState({ hiddenPacks: false });\r\n      } else {\r\n        alert(res.message);\r\n      }\r\n    });\r\n  };\r\n  tiaoshi_date_change = value => {\r\n    //this.state.yujifahuo_date=value;\r\n    var e_target_name = 'tiaoshi_date';\r\n    //console.log(this.old[e_target_name]);\r\n    var t = null;\r\n    if (typeof value === 'string') {\r\n      t = value;\r\n    } else {\r\n      t = value.format('YYYY-MM-DD');\r\n    }\r\n    //console.log(t);\r\n    if (this.old[e_target_name] === t) {\r\n      const bg2 = update(this.state.bg, {\r\n        [e_target_name]: { $set: '#ffffff' },\r\n      });\r\n      //this.state.bg[e_target_name]=\"#ffffff\";\r\n      ////console.log(\"equal\");\r\n      this.setState({ bg: bg2 });\r\n    } else {\r\n      ////console.log(\"not equal\")\r\n      //this.state.bg[e_target_name]=\"#8888ff\";\r\n      const bg2 = update(this.state.bg, {\r\n        [e_target_name]: { $set: '#8888ff' },\r\n      });\r\n      //this.state.bg[e_target_name]=\"#ffffff\";\r\n      ////console.log(\"equal\");\r\n      this.setState({ bg: bg2 });\r\n    }\r\n    const contact2 = update(this.state.contact, {\r\n      [e_target_name]: { $set: t },\r\n    });\r\n    //console.log(contact2);\r\n    this.setState({ contact: contact2 });\r\n  };\r\n\r\n  yujifahuo_date_change = value => {\r\n    //this.state.yujifahuo_date=value;\r\n    var e_target_name = 'yujifahuo_date';\r\n    //console.log(this.old[e_target_name]);\r\n    var t = null;\r\n    if (typeof value === 'string') {\r\n      t = value;\r\n    } else {\r\n      t = value.format('YYYY-MM-DD');\r\n    }\r\n    //console.log(t);\r\n    if (this.old[e_target_name] === t) {\r\n      const bg2 = update(this.state.bg, {\r\n        [e_target_name]: { $set: '#ffffff' },\r\n      });\r\n      //this.state.bg[e_target_name]=\"#ffffff\";\r\n      ////console.log(\"equal\");\r\n      this.setState({ bg: bg2 });\r\n    } else {\r\n      const bg2 = update(this.state.bg, {\r\n        [e_target_name]: { $set: '#8888ff' },\r\n      });\r\n      //this.state.bg[e_target_name]=\"#ffffff\";\r\n      ////console.log(\"equal\");\r\n      this.setState({ bg: bg2 });\r\n    }\r\n    const contact2 = update(this.state.contact, {\r\n      [e_target_name]: { $set: t },\r\n    });\r\n    //console.log(contact2);\r\n    this.setState({ contact: contact2 });\r\n  };\r\n  channels_change = (event, { newValue }) => {\r\n    this.change1(newValue);\r\n  };\r\n  channels_change_fetch = () => {};\r\n  channels_select = (event, data) => {\r\n    this.change1(data.suggestion);\r\n  };\r\n  change1 = item => {\r\n    //console.log(\"selected\");\r\n    //console.log(item);\r\n    if (this.old.channels === item) {\r\n      const bg2 = update(this.state.bg, { channels: { $set: '#ffffff' } });\r\n      this.setState({ bg: bg2 });\r\n    } else {\r\n      const bg2 = update(this.state.bg, { channels: { $set: '#8888ff' } });\r\n      this.setState({ bg: bg2 });\r\n    }\r\n    const contact2 = update(this.state.contact, { channels: { $set: item } });\r\n    //console.log(contact2);\r\n    this.setState({ contact: contact2 });\r\n  };\r\n  yiqixinghao_change = (event, { newValue }) => {\r\n    this.change2(newValue);\r\n  };\r\n  yiqixinghao_select = (event, data) => {\r\n    this.change2(data.suggestion);\r\n  };\r\n  change2 = item => {\r\n    //console.log(\"selected\");\r\n    //console.log(item);\r\n    if (this.old.yiqixinghao === item) {\r\n      const bg2 = update(this.state.bg, { yiqixinghao: { $set: '#ffffff' } });\r\n      this.setState({ bg: bg2 });\r\n    } else {\r\n      const bg2 = update(this.state.bg, { yiqixinghao: { $set: '#8888ff' } });\r\n      this.setState({ bg: bg2 });\r\n    }\r\n    const contact2 = update(this.state.contact, {\r\n      yiqixinghao: { $set: item },\r\n    });\r\n    //console.log(contact2);\r\n    this.setState({ contact: contact2 });\r\n  };\r\n  handleChange = e => {\r\n    //console.log(\"change\");\r\n    //console.log(e);\r\n    //console.log(e.target.value);\r\n    //console.log(e.target.name);\r\n    if (this.old[e.target.name] === e.target.value) {\r\n      const bg2 = update(this.state.bg, {\r\n        [e.target.name]: { $set: '#ffffff' },\r\n      });\r\n      //this.state.bg[e_target_name]=\"#ffffff\";\r\n      ////console.log(\"equal\");\r\n      this.setState({ bg: bg2 });\r\n    } else {\r\n      const bg2 = update(this.state.bg, {\r\n        [e.target.name]: { $set: '#8888ff' },\r\n      });\r\n      //this.state.bg[e_target_name]=\"#ffffff\";\r\n      ////console.log(\"equal\");\r\n      this.setState({ bg: bg2 });\r\n    }\r\n    const contact2 = update(this.state.contact, {\r\n      [e.target.name]: { $set: e.target.value },\r\n    });\r\n    //console.log(contact2);\r\n    this.setState({ contact: contact2 });\r\n  };\r\n  matchStateToTerm = (state, value) => {\r\n    return state.toLowerCase().indexOf(value.toLowerCase()) !== -1;\r\n  };\r\n  render = () => {\r\n    return (\r\n      <Modal show={this.state.showModal} onHide={this.close}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title></Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <table id=\"table_input\" className=\"table-condensed\">\r\n            <tbody>\r\n              <tr>\r\n                <td>ID:</td>\r\n                <td>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"id\"\r\n                    name=\"id\"\r\n                    disabled=\"disabled\"\r\n                    value={this.state.contact.id}\r\n                  />\r\n                </td>\r\n                <td>\r\n                  <label>:</label>\r\n                </td>\r\n                <td>\r\n                  <input\r\n                    style={{ backgroundColor: this.state.bg.yonghu }}\r\n                    type=\"text\"\r\n                    id=\"yonghu\"\r\n                    name=\"yonghu\"\r\n                    value={this.state.contact.yonghu}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>:</td>\r\n                <td>\r\n                  <input\r\n                    style={{ backgroundColor: this.state.bg.addr }}\r\n                    type=\"text\"\r\n                    id=\"addr\"\r\n                    name=\"addr\"\r\n                    value={this.state.contact.addr}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </td>\r\n                <td>:</td>\r\n                <td>\r\n                  <Autosuggest\r\n                    inputProps={{\r\n                      id: 'channels-autocomplete',\r\n                      style: { backgroundColor: this.state.bg.channels },\r\n                      value: this.state.contact.channels,\r\n                      onChange: this.channels_change,\r\n                    }}\r\n                    suggestions={[\r\n                      '1O()',\r\n                      '1O()',\r\n                      '1O()+2N',\r\n                      '1C()+2S',\r\n                      '1C()+2S',\r\n                      '2C+1S()',\r\n                      '2C+1S()',\r\n                      '2C+2S',\r\n                      '2O+2N',\r\n                      '2O',\r\n                    ]}\r\n                    getSuggestionValue={item => item}\r\n                    onSuggestionSelected={this.channels_select}\r\n                    onSuggestionsFetchRequested={() => {}}\r\n                    onSuggestionsClearRequested={()=>{}}\r\n                    renderSuggestion={item => <span>{item}</span>}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <label>:</label>\r\n                </td>\r\n                <td>\r\n                  {\r\n                    <Autosuggest\r\n                      inputProps={{\r\n                        id: 'yiqixinghao-autocomplete',\r\n                        style: { backgroundColor: this.state.bg.yiqixinghao },\r\n                        value: this.state.contact.yiqixinghao,\r\n                        onChange: this.yiqixinghao_change,\r\n                      }}\r\n                      suggestions={[\r\n                        'CS-1011C',\r\n                        'CS-2800',\r\n                        'CS-3000',\r\n                        'CS-3000G',\r\n                        'HD-5',\r\n                        'N-3000',\r\n                        'O-3000',\r\n                        'OH-3000',\r\n                        'ON-3000',\r\n                        'ON-4000',\r\n                        'ONH-3000',\r\n                      ]}\r\n                      getSuggestionValue={item => item}\r\n                      onSuggestionsFetchRequested={() => {}}\r\n                      onSuggestionsClearRequested={()=>{}}\r\n                      onSuggestionSelected={this.yiqixinghao_select}\r\n                      renderSuggestion={item => <span>{item}</span>}\r\n                    />\r\n                  }\r\n                </td>\r\n                <td>\r\n                  <label>:</label>\r\n                </td>\r\n                <td>\r\n                  <input\r\n                    style={{ backgroundColor: this.state.bg.yiqibh }}\r\n                    type=\"text\"\r\n                    id=\"yiqibh\"\r\n                    name=\"yiqibh\"\r\n                    value={this.state.contact.yiqibh}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <label>:</label>\r\n                </td>\r\n                <td>\r\n                  <input\r\n                    style={{ backgroundColor: this.state.bg.baoxiang }}\r\n                    type=\"text\"\r\n                    id=\"baoxiang\"\r\n                    name=\"baoxiang\"\r\n                    value={this.state.contact.baoxiang}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </td>\r\n                <td>:</td>\r\n                <td>\r\n                  <input\r\n                    style={{ backgroundColor: this.state.bg.shenhe }}\r\n                    type=\"text\"\r\n                    id=\"shenhe\"\r\n                    name=\"shenhe\"\r\n                    value={this.state.contact.shenhe}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <label>:</label>\r\n                </td>\r\n                <td>\r\n                  <DateTime\r\n                    ref=\"datetime1\"\r\n                    timeFormat={false}\r\n                    inputProps={{\r\n                      style: { backgroundColor: this.state.bg.yujifahuo_date },\r\n                    }}\r\n                    id=\"yujifahuo_date\"\r\n                    name=\"yujifahuo_date\"\r\n                    value={this.state.contact.yujifahuo_date}\r\n                    onChange={this.yujifahuo_date_change}\r\n                  />\r\n                </td>\r\n                <td>:</td>\r\n                <td>\r\n                  <DateTime\r\n                    ref=\"datetime2\"\r\n                    timeFormat={false}\r\n                    inputProps={{\r\n                      style: { backgroundColor: this.state.bg.tiaoshi_date },\r\n                    }}\r\n                    name=\"tiaoshi_date\"\r\n                    value={this.state.contact.tiaoshi_date}\r\n                    onChange={this.tiaoshi_date_change}\r\n                  />\r\n                </td>\r\n              </tr>\r\n              <tr>\r\n                <td>\r\n                  <label>:</label>\r\n                </td>\r\n                <td>\r\n                  <input\r\n                    style={{ backgroundColor: this.state.bg.hetongbh }}\r\n                    type=\"text\"\r\n                    id=\"hetongbh\"\r\n                    name=\"hetongbh\"\r\n                    value={this.state.contact.hetongbh}\r\n                    onChange={this.handleChange}\r\n                  />\r\n                </td>\r\n                <td>:</td>\r\n                <td>\r\n                  <input\r\n                    style={{ backgroundColor: this.state.bg.method }}\r\n                    type=\"text\"\r\n                    id=\"method\"\r\n                    name=\"method\"\r\n                    disabled={true}\r\n                    defaultValue={this.state.contact.method}\r\n                  />\r\n                  {\r\n                    //<button className=\"btn\" id=\"bt_file\"><Glyphicon glyph=\"pencil\" />\r\n                    //</button>\r\n                    //<button className=\"btn\" id=\"bt_removefile\"><Glyphicon glyph=\"remove\" /></button>\r\n                  }\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div>\r\n            <button\r\n              className=\"btn btn-primary\"\r\n              id=\"bt_save\"\r\n              onClick={this.handleSave}\r\n            >\r\n              \r\n            </button>\r\n            <button\r\n              className=\"btn\"\r\n              style={{ margin: '20px 20px 20px 20px' }}\r\n              id=\"bt_clearid\"\r\n              onClick={this.handleCopy}\r\n            >\r\n              \r\n            </button>\r\n          </div>\r\n          <div id=\"id_usepacks\" hidden={this.state.hiddenPacks}>\r\n            <UsePacks2 contact_id={this.state.contact.id} />\r\n          </div>\r\n        </Modal.Body>\r\n      </Modal>\r\n    );\r\n  };\r\n}\r\n///////////////////////////////////App/////////////////////////////////////////////////////////////\r\n////////////////////////////////////////////////////////////////////////////////////////\r\nexport default class App extends React.Component {\r\n  constructor(){\r\n    super();\r\n    this.contactedit = React.createRef();\r\n  }\r\n  mystate = {\r\n    start: 0,\r\n    limit: 10,\r\n    total: 0,\r\n    baoxiang: '',\r\n    logined: false,\r\n    search: '',\r\n  };\r\n  state = {\r\n    displayFilterDanwei: 'none',\r\n    filter_danwei: '',\r\n    displayFilterHtbh: 'none',\r\n    filter_htbh: '',\r\n    contacts: [],\r\n    user: 'AnonymousUser',\r\n    start: 0,\r\n    total: 0,\r\n    search: '',\r\n    baoxiang: '',\r\n    start_input: 1,\r\n    currentIndex: null,\r\n    connect_error: false,\r\n  };\r\n  componentDidMount = () => {\r\n    socket.on('connect_error', () => {\r\n      this.setState({ connect_error: true });\r\n    });\r\n    socket.on('connect', () => {\r\n      this.setState({ connect_error: false });\r\n    });\r\n    this.load_data();\r\n  };\r\n  load_data = () => {\r\n    console.log('loaddata');\r\n    socket.emit(\r\n      '/get/Contact',\r\n      {\r\n        start: this.mystate.start,\r\n        limit: this.mystate.limit,\r\n        search: this.state.filter_htbh,\r\n        filter_danwei: this.state.filter_danwei,\r\n        baoxiang: this.mystate.baoxiang,\r\n      },\r\n      contacts => {\r\n        var user = contacts.user;\r\n        if (user === undefined) {\r\n          user = 'AnonymousUser';\r\n        }\r\n        this.mystate.total = contacts.total; //because async ,mystate set must before state;\r\n        this.setState({\r\n          contacts: contacts.data, //.slice(0, MATCHING_ITEM_LIMIT),\r\n          user: user,\r\n          total: contacts.total,\r\n          start: this.mystate.start,\r\n        });\r\n      }\r\n    );\r\n  };\r\n  handleContactChange = (idx, contact) => {\r\n    console.log(idx);\r\n    let contacts2;\r\n    if (idx != null) {\r\n      contacts2 = update(this.state.contacts, { [idx]: { $set: contact } });\r\n      console.log(contacts2);\r\n    } else {\r\n      contacts2 = update(this.state.contacts, { $unshift: [contact] });\r\n    }\r\n    this.setState({ contacts: contacts2 });\r\n  };\r\n  handleUserChange = user => {\r\n    if (user === 'AnonymousUser') {\r\n      this.setState({\r\n        logined: false,\r\n      });\r\n    } else {\r\n      this.setState({\r\n        logined: true,\r\n      });\r\n    }\r\n    this.setState({\r\n      user: user,\r\n      contacts: [], //slice(0, MATCHING_ITEM_LIMIT),\r\n    });\r\n    this.load_data();\r\n  };\r\n  handleLogout = () => {\r\n    //console.log(\"logout\");\r\n    // Client.logout((data) => {\r\n    //   //console.log(\"logout\" + data);\r\n    //   this.setState({\r\n    //     logined: false,\r\n    //     user: \"AnonymousUser\",\r\n    //     total:0,\r\n    //     start:0,\r\n    //   });\r\n    //   this.handleUserChange(this.state.user);\r\n    // });\r\n  };\r\n\r\n  handleSearchChange = e => {\r\n    this.mystate.search = e.target.value;\r\n    this.setState({ search: this.mystate.search });\r\n  };\r\n  handlePrev = e => {\r\n    this.mystate.start = this.mystate.start - this.mystate.limit;\r\n    if (this.mystate.start < 0) {\r\n      this.mystate.start = 0;\r\n    }\r\n    this.load_data();\r\n  };\r\n  search = e => {\r\n    this.mystate.start = 0;\r\n    this.load_data();\r\n  };\r\n  jump = () => {\r\n    this.mystate.start = parseInt(this.state.start_input, 10) - 1;\r\n    if (this.mystate.start > this.mystate.total - this.mystate.limit)\r\n      this.mystate.start = this.mystate.total - this.mystate.limit; //total >limit\r\n    if (this.mystate.start < 0) {\r\n      this.mystate.start = 0;\r\n    }\r\n    this.load_data();\r\n  };\r\n  handlePageChange = e => {\r\n    this.setState({ start_input: e.target.value });\r\n  };\r\n\r\n  onDetailClick = contactid => {\r\n    //console.log(contactid);\r\n    socket.emit('/parts/showcontact', { id: contactid }, data => {\r\n      //console.log(data);\r\n    });\r\n  };\r\n  handleNext = e => {\r\n    this.mystate.start = this.mystate.start + this.mystate.limit;\r\n    if (this.mystate.start > this.mystate.total - this.mystate.limit)\r\n      this.mystate.start = this.mystate.total - this.mystate.limit; //total >limit\r\n    if (this.mystate.start < 0) {\r\n      this.mystate.start = 0;\r\n    }\r\n    this.load_data();\r\n  };\r\n  onSelectBaoxiang = e => {\r\n    this.mystate.baoxiang = e;\r\n    this.mystate.start=0;\r\n    this.setState({ baoxiang: e });\r\n    this.load_data();\r\n  };\r\n  auto_change = (event, value) => {\r\n    //console.log(\"auto_change\");\r\n    if (value.length > 1) {\r\n      this.setState({ auto_value: value, auto_loading: true });\r\n      socket.emit('/get/Pack', { search: value }, items => {\r\n        this.setState({ auto_items: items.data, auto_loading: false });\r\n      });\r\n    } else {\r\n      this.setState({ auto_value: value, auto_loading: false });\r\n    }\r\n  };\r\n  onLoginSubmit = data => {\r\n    //console.log(data);\r\n    // Client.login(data.username, data.password, (res) => {\r\n    //   if (res.success) {\r\n    //     this.setState({\r\n    //       logined: true,\r\n    //     });\r\n    //     this.setState({\r\n    //       user: data.username\r\n    //     });\r\n    //     this.handleUserChange(this.state.user);\r\n    //   }\r\n    // });\r\n  };\r\n  handleEdit = idx => {\r\n    //this.setState({currentIndex:idx});\r\n    this.contactedit.current.open2(idx);\r\n  };\r\n  opendlgfolder = contactid => {\r\n    this.refs.dlgfolder.open(contactid);\r\n  };\r\n  opendlgfolder2 = contactid => {\r\n    this.refs.dlgfolder2.open(contactid);\r\n  };\r\n  opendlgcheck = (contactid, yiqibh) => {\r\n    this.refs.dlgcheck.open(contactid, yiqibh);\r\n  };\r\n  openDlgPacks = () => {\r\n    this.refs.dlgpacks.open();\r\n  };\r\n  openDlgCopyPack = () => {\r\n    this.refs.dlgcopypack.open();\r\n  };\r\n  opendlgurl = () => {\r\n    this.refs.dlgurl.open();\r\n  };\r\n  opendlgwait = () => {\r\n    this.refs.dlgwait.open();\r\n  };\r\n  openDlgStat = () => {\r\n    this.refs.dlgstat.open();\r\n  };\r\n  openDlgImport = () => {\r\n    this.refs.dlgimport.open();\r\n  };\r\n  show_displayFilterHtbh = () => {\r\n    this.setState({ displayFilterHtbh: 'inline' });\r\n  };\r\n  handle_filterhtbh_Change = e => {\r\n    console.log(e.target.value);\r\n    this.setState({ filter_htbh: e.target.value });\r\n  };\r\n  handle_filterhtbh_input = () => {\r\n    console.log(this.state.filter_htbh);\r\n    if (this.state.filter_htbh === '') {\r\n      this.setState({ displayFilterHtbh: 'none' });\r\n    }\r\n    this.mystate.start = 0;\r\n    this.load_data();\r\n  };\r\n  show_displayFilterDanwei = () => {\r\n    this.setState({ displayFilterDanwei: 'inline' });\r\n  };\r\n  handle_filterdanwei_Change = e => {\r\n    console.log(e.target.value);\r\n    this.setState({ filter_danwei: e.target.value });\r\n  };\r\n  handle_filterdanwei_input = () => {\r\n    console.log(this.state.filter_danwei);\r\n    if (this.state.filter_danwei === '') {\r\n      this.setState({ displayFilterDanwei: 'none' });\r\n    }\r\n    this.mystate.start = 0;\r\n    this.load_data();\r\n  };\r\n  render() {\r\n    //console.log(\"render=========================\");\r\n    const contactRows = this.state.contacts.map((contact, idx) => (\r\n      <tr key={idx}>\r\n        <td>{contact.id}</td>\r\n        <td>\r\n          <b>{contact.hetongbh}</b>\r\n        </td>\r\n        <td>{contact.yonghu}</td>\r\n        <td>{contact.addr}</td>\r\n        <td>{contact.channels}</td>\r\n        <td>{contact.yiqixinghao}</td>\r\n        <td>\r\n          <Button onClick={() => this.handleEdit(idx)}>{contact.yiqibh}</Button>\r\n          <DropdownButton title=\"\" id=\"id_dropdown3\">\r\n            <MenuItem onSelect={() => this.onDetailClick(contact.id)}>\r\n              \r\n            </MenuItem>\r\n            <MenuItem\r\n              onSelect={() =>\r\n                this.opendlgurl('/rest/updateMethod', this, idx, {\r\n                  id: contact.id,\r\n                })\r\n              }\r\n            >\r\n              \r\n            </MenuItem>\r\n            <MenuItem onSelect={() => this.opendlgwait(contact.id)}>\r\n              \r\n            </MenuItem>\r\n            <MenuItem\r\n              onSelect={() => this.opendlgcheck(contact.id, contact.yiqibh)}\r\n            >\r\n              \r\n            </MenuItem>\r\n            <MenuItem onSelect={() => this.opendlgfolder(contact.id)}>\r\n              \r\n            </MenuItem>\r\n            <MenuItem onSelect={() => this.opendlgfolder2(contact.id)}>\r\n              2\r\n            </MenuItem>\r\n          </DropdownButton>\r\n        </td>\r\n        <td>{contact.baoxiang}</td>\r\n        <td>{contact.yujifahuo_date}</td>\r\n\r\n        <td>{contact.method}</td>\r\n      </tr>\r\n    ));\r\n    var hasprev = true;\r\n    var hasnext = true;\r\n    let prev;\r\n    let next;\r\n    //console.log(this.mystate);\r\n    //console.log(this.state);\r\n    if (this.state.start === 0) {\r\n      hasprev = false;\r\n    }\r\n    if (this.state.start + this.state.limit >= this.state.total) {\r\n      hasnext = false;\r\n    }\r\n    if (hasprev) {\r\n      prev = <Button onClick={this.handlePrev}></Button>;\r\n    } else {\r\n      prev = null;\r\n    }\r\n    if (hasnext) {\r\n      next = <Button onClick={this.handleNext}></Button>;\r\n    } else {\r\n      next = null;\r\n    }\r\n    return (\r\n      <div id=\"todoapp\" className=\"table-responsive\">\r\n        <div\r\n          style={{\r\n            display: this.state.connect_error ? '' : 'none',\r\n            textAlign: 'center',\r\n            color: 'red',\r\n          }}\r\n        >\r\n          !!!!!!!!!!!!!!!!!\r\n        </div>\r\n        <DlgItems ref=\"dlgitems\" />\r\n        <DlgPacks ref=\"dlgpacks\" />\r\n        <DlgCopyPack ref=\"dlgcopypack\" />\r\n        <DlgStat ref=\"dlgstat\" />\r\n        <DlgImport ref=\"dlgimport\" />\r\n        <DlgCheck ref=\"dlgcheck\" />\r\n        <DlgFolder2 ref=\"dlgfolder2\" />\r\n        <DlgFolder ref=\"dlgfolder\" />\r\n        <DlgWait ref=\"dlgwait\" />\r\n        <DlgUrl ref=\"dlgurl\" />\r\n        <ContactEdit\r\n          ref={this.contactedit}\r\n          parent={this}\r\n          index={this.state.currentIndex}\r\n          title=\"\"\r\n        />\r\n        <Navbar className=\"navbar-inverse\">\r\n          <Navbar.Header>\r\n            <Navbar.Brand>\r\n              <span></span>\r\n            </Navbar.Brand>\r\n          </Navbar.Header>\r\n          <Nav>\r\n            <NavItem eventKey={1} href=\"#\">\r\n              \r\n            </NavItem>\r\n            <DlgPacks />\r\n            <DlgItems />\r\n            <DlgCopyPack />\r\n            <DlgStat />\r\n          </Nav>\r\n        </Navbar>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <td>\r\n                <button\r\n                  className=\"btn btn-primary\"\r\n                  onClick={() => this.handleEdit(null)}\r\n                >\r\n                  \r\n                </button>\r\n              </td>\r\n              <td>\r\n                <DlgImport />\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <table className=\"table-bordered\">\r\n          <thead>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>\r\n                <div>\r\n                  \r\n                  <span\r\n                    onClick={this.show_displayFilterHtbh}\r\n                    className=\"caret\"\r\n                    aria-hidden=\"true\"\r\n                  />\r\n                </div>\r\n                <div style={{ display: this.state.displayFilterHtbh }}>\r\n                  <input\r\n                    value={this.state.filter_htbh}\r\n                    onChange={this.handle_filterhtbh_Change}\r\n                  />\r\n                  <button onClick={this.handle_filterhtbh_input}>filter</button>\r\n                </div>\r\n              </th>\r\n              <th>\r\n                <div>\r\n                  \r\n                  <span\r\n                    onClick={this.show_displayFilterDanwei}\r\n                    className=\"caret\"\r\n                    aria-hidden=\"true\"\r\n                  />\r\n                </div>\r\n                <div style={{ display: this.state.displayFilterDanwei }}>\r\n                  <input\r\n                    value={this.state.filter_danwei}\r\n                    onChange={this.handle_filterdanwei_Change}\r\n                  />\r\n                  <button onClick={this.handle_filterdanwei_input}>\r\n                    filter\r\n                  </button>\r\n                </div>\r\n              </th>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n              <th></th>\r\n              <th>\r\n                \r\n                <DropdownButton title={this.state.baoxiang} id=\"id_dropdown2\">\r\n                  <MenuItem onSelect={() => this.onSelectBaoxiang('')}>\r\n                    \r\n                  </MenuItem>\r\n                  <MenuItem onSelect={() => this.onSelectBaoxiang('')}>\r\n                    \r\n                  </MenuItem>\r\n                  <MenuItem onSelect={() => this.onSelectBaoxiang('')}>\r\n                    \r\n                  </MenuItem>\r\n                  <MenuItem onSelect={() => this.onSelectBaoxiang('')}>\r\n                    *\r\n                  </MenuItem>\r\n                </DropdownButton>\r\n              </th>\r\n              <th></th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody id=\"contact-list\">{contactRows}</tbody>\r\n        </table>\r\n        {prev}\r\n        <label id=\"page\">\r\n          {this.state.start + 1}../{this.state.total}\r\n        </label>\r\n        {next}\r\n        <input\r\n          maxLength=\"6\"\r\n          size=\"6\"\r\n          onChange={this.handlePageChange}\r\n          value={this.state.start_input}\r\n        />\r\n        <button id=\"page_go\" className=\"btn btn-info\" onClick={this.jump}>\r\n          \r\n        </button>\r\n        <div style={{ minHeight: '200px' }} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Browser from './app_parts';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap/dist/css/bootstrap-theme.css';\r\nimport './autosuggest.css';\r\nimport './react-datetime.css';\r\n//import ContextMenuExample from './ContextMenuExample';\r\nReactDOM.render(<Browser />, document.getElementById('root'));"],"sourceRoot":""}